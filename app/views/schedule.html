<form class="form-horizontal well">
    <div class="form-group">
        <label class="col-sm-2">Switch</label>
        <div class="col-sm-10">
            <select ng-options="key as value for (key, value) in switches" ng-model="new.switch" class="form-control"></select>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2">State</label>
        <div class="col-sm-10">
            <select ng-options="key as value for (key, value) in {0: 'Off', 1: 'On'}" ng-model="new.state"
                    class="form-control"></select>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2">Duration</label>
        <div class="col-sm-5">
            <input ng-model="new.duration" class="form-control form-inline"/>
        </div>
        <div class="col-sm-5">
            <select ng-options="key as value for (key, value) in {1: 'Minutes', 60: 'Hours'}" ng-model="new.multiplier"
                    class="form-control"></select>
        </div>
    </div>
    <div class="form-group">
        <label class="col-sm-2">Schedule</label>
        <div class="col-sm-10">
            <cron-selection config="config" output="new.schedule"></cron-selection>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-10 col-sm-push-2">
            <input type="button" class="btn btn-info" value="Add task" ng-click="addSchedule()" ng-disabled="adding"/>
        </div>
    </div>
</form>
<br/>
<div class="row" style="text-align: center" ng-show="!schedules._embedded">
    <img src="images/preloader.gif" alt="loading" style="float: none; margin: 0 auto"/>
</div>
<div ng-repeat="schedule in schedules._embedded" class="form-group">
    <button class="btn"
            ng-class="{'label-danger': '0' == schedule.state, 'label-success': '1' == schedule.state}">{{
        schedule.name}}
    </button>
    <span ng-show="schedule.duration"> for {{ schedule.duration }} minutes </span>
    <a ng-click="removeSchedule(schedule)" href=""><span class="glyphicon glyphicon-remove-circle"/></span></a>
    <br/><br/>
    <cron-selection output="scheduleOut.cron" init="schedule.schedule" config="config"></cron-selection>
</div>
